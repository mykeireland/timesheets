<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Insight Casual Timesheet Submission</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    // dev local: "http://localhost:7071/api"
    // dev cloud: "https://<func-timesheetsNET-api-dev>.azurewebsites.net/api"
    window.API_BASE = "https://func-timesheetsNET-api-dev.azurewebsites.net/api";
  </script>
</head>
<body>
  <header>
    <h1>InSight Casual Timesheet Submission</h1>
  </header>

  <div class="container">
    <form id="timesheetForm" novalidate>
      <div class="form-row">
        <label for="employeeSelect">Employee:</label>
        <select id="employeeSelect"></select>
      </div>

      <p><b>Hours (Standard)</b> = Normal hours (7.6hrs/day)</p>
      <p><b>Hours (1.5x)</b> = First 2 hours of OT (Mon–Sat)</p>
      <p><b>Hours (2x)</b> = OT after 2 hours (Mon–Sat), or all Sunday</p>

      <!-- Entry Form -->
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Ticket</th>
            <th>Start Time</th>
            <th>Hours (Std / 1.5x / 2x)</th>
            <th>Notes</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="date" id="entryDate" /></td>
            <td><select id="entryTicket"></select></td>
            <td>
              <div class="time-picker">
                <select id="entryHour">
                  <option value="">HH</option>
                  <option>1</option><option>2</option><option>3</option>
                  <option>4</option><option>5</option><option>6</option>
                  <option>7</option><option>8</option><option>9</option>
                  <option>10</option><option>11</option><option>12</option>
                </select>
                :
                <select id="entryMinute">
                  <option value="">MM</option>
                  <option>00</option><option>15</option><option>30</option><option>45</option>
                </select>
                <select id="entryAmPm">
                  <option value="">--</option>
                  <option>AM</option><option>PM</option>
                </select>
              </div>
            </td>
            <td>
              <input type="number" id="hoursStd" step="0.25" min="0" value="0" style="width:50px;" />
              <input type="number" id="hours15" step="0.25" min="0" value="0" style="width:50px;" />
              <input type="number" id="hours2" step="0.25" min="0" value="0" style="width:50px;" />
            </td>
            <td><input type="text" id="entryNotes" placeholder="Notes (optional)" style="width:auto;" /></td>
            <td><button type="button" class="btn light" onclick="addToQueue()">Add</button></td>
          </tr>
        </tbody>
      </table>

      <!-- Queue -->
      <div id="queuedEntries" style="margin-top:20px; display:none;">
        <h3>Queued Entries</h3>
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Ticket</th>
              <th>Start Time</th>
              <th>Std</th>
              <th>1.5x</th>
              <th>2x</th>
              <th>Notes</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="queueTable"></tbody>
        </table>
      </div>

      <!-- Buttons -->
      <div class="form-actions">
        <button type="reset" class="btn secondary">Clear Form</button>
        <button type="button" class="btn secondary" onclick="window.print()">Print Form</button>
        <button type="submit" class="btn primary">Submit</button>
        <button type="button" id="managerBtn" class="btn danger">Manager View</button>
      </div>
    </form>
  </div>

  <script src="script.js"></script>
</body>
</html>
